<html>
<head>
	
	<title>Codeforces 371</title>
	<meta name="keywords" content="fzb.me,冯宗宝,冯宗宝的blog" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
    
        
<script src="/js/util.js"></script>

        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3"/>
    
    

<meta name="generator" content="Hexo 6.2.0"></head>

<body>


<h2 class="title">Codeforces 371</h2>
<!--
<div style="text-align:center;margin-top: -10px;">
<div class="article-category">
发表于2016年9月19日


    <a class="article-category-link" href="/categories/%E9%A2%98%E8%AE%B0/">题记</a>



 </div>
-->
</div>

<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Div2A-Meeting-of-Old-Friends"><span class="toc-text">Div2A Meeting of Old Friends</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Div2B-Filya-and-Homework"><span class="toc-text">Div2B  Filya and Homework</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DIV1A-Sonya-and-Queries"><span class="toc-text">DIV1A Sonya and Queries</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DIV1B-Searching-Rectangles"><span class="toc-text">DIV1B Searching Rectangles</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DIV1C-Sonya-and-Problem-Wihtout-a-Legend"><span class="toc-text">DIV1C Sonya and Problem Wihtout a Legend</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DIV1D-Animals-and-Puzzle"><span class="toc-text">DIV1D Animals and Puzzle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DIV1E-Sonya-Partymaker"><span class="toc-text">DIV1E Sonya Partymaker</span></a></li></ol>
<p><a target="_blank" rel="noopener" href="http://codeforces.com/contest/713">题目链接</a>与<a target="_blank" rel="noopener" href="https://github.com/2997ms/My_Algorithm/tree/master/Codeforces/371">代码链接</a></p>
<p>看到这次Div1是三个2000的(而不是2500)，另外看到叉姐在论坛上放出<a target="_blank" rel="noopener" href="https://async.icpc-camp.org/d/555-codeforces-round-371">题解</a>，莫名其妙自己也想做一做。。。</p>
<h3 id="Div2A-Meeting-of-Old-Friends"><a href="#Div2A-Meeting-of-Old-Friends" class="headerlink" title="Div2A Meeting of Old Friends"></a>Div2A Meeting of Old Friends</h3><hr>
<p>题意是给出两个区间，求交集的区间的长度，如果k在这个交集里面，那么结果再减1。</p>
<h3 id="Div2B-Filya-and-Homework"><a href="#Div2B-Filya-and-Homework" class="headerlink" title="Div2B  Filya and Homework"></a>Div2B  Filya and Homework</h3><hr>
<p>题意是给出n个数，现在能在一些数上(可以是0)上加x，也可以在一些数上减x，问能否最终的值是相等的。</p>
<p>分析可知如果n个数的值只有小于三种的话，那么是一定可以的。如果是等于三种，要形成等差数列。如果是大于三种，那么没可能了。</p>
<h3 id="DIV1A-Sonya-and-Queries"><a href="#DIV1A-Sonya-and-Queries" class="headerlink" title="DIV1A Sonya and Queries"></a>DIV1A Sonya and Queries</h3><hr>
<p>题意是给出一种匹配方法，给出一个01串，将数字从右到左匹配。如果是0，要求该位置是偶数；如果是1，要求该位置是奇数。</p>
<p>每次有三种操作，1.向该集合添加一个数字。2.向该集合删去一个数字。3.给定一个01串，询问该集合中符合该匹配的数字有多少个。</p>
<p>因为这个01串最多是18位，开一个1&lt;&lt;18的数组，暴力记录就可以了。</p>
<h3 id="DIV1B-Searching-Rectangles"><a href="#DIV1B-Searching-Rectangles" class="headerlink" title="DIV1B Searching Rectangles"></a>DIV1B Searching Rectangles</h3><hr>
<p>交互题，题意是在n*n(2&lt;&#x3D;n&lt;&#x3D;2^16)的格子上有两个矩形，两个矩形不重合。现在叫你找这两个矩形的位置。</p>
<p>每次你可以询问一个矩形，它会回答你里面有多少个完全在里面的矩形(0&lt;&#x3D;res&lt;&#x3D;2)。</p>
<p>先二分在横轴上存在把两个矩形分开的x，不存在就找y。</p>
<p>然后分别在分开的矩形内部，二分找四个边。</p>
<p>这个题叉姐写的代码真的很👍。。。</p>
<h3 id="DIV1C-Sonya-and-Problem-Wihtout-a-Legend"><a href="#DIV1C-Sonya-and-Problem-Wihtout-a-Legend" class="headerlink" title="DIV1C Sonya and Problem Wihtout a Legend"></a>DIV1C Sonya and Problem Wihtout a Legend</h3><hr>
<p>题意是给出一个长度为n的序列，可以对每个数加上或减去一个数，将其改造成递增序列，问最小代价。</p>
<p>他们都说这个题烂大街了，然而我没做过。。。<a target="_blank" rel="noopener" href="http://poj.org/problem?id=3666">POJ 3666</a>，<a target="_blank" rel="noopener" href="http://codeforces.com/contest/13/problem/C">CF Round13 C</a></p>
<p>首先要求递增的话，那么A[i]-&#x3D;i，将A[i]排好序假设为B[i]。</p>
<p>然后数据是3000的话，O(n^2)的DP也是可以过的，DP[i][j]表示前i个数里面变成单调递增，且最后一个数是B[j]的最小代价。说白了，就是暴力每个数作为一段区间的中位数，考虑其代价(后面的左偏树也是基于这个优化的)。因为如果这个序列单调递增，那么代价为0.单调递减，那么代价就是每个数-中位数的和。</p>
<p>所以能够得到转移方程为<br>$$<br>dp[i][j]&#x3D;min(dp[i-1][k])+|A[i]-B[j]|  (k\leq i)<br>$$<br>O(nlogn)的方法是用左偏树，有专门的论文，题目接触的也比较少，只知道这个是一个可并堆，可以很方便最大最小值，这个题目维护的是中位数。。。</p>
<p>对于递增的区间，把每一个数看成单独的堆，中位数就是自己。碰到递减的区间，合并这两个区间，维护其中位数。这里面的左偏树是一个最小堆，而不能是最大堆。拿第二个例子来说，如果维护的是最大堆的话，那么中位数到第二个时是4，因为你要处理的是比当前区间中位数小的区间，维护最大堆的话，那么中位数2这个信息就没了，被之前pop掉了。</p>
<h3 id="DIV1D-Animals-and-Puzzle"><a href="#DIV1D-Animals-and-Puzzle" class="headerlink" title="DIV1D Animals and Puzzle"></a>DIV1D Animals and Puzzle</h3><hr>
<p>题意是给出一个n*m的格子，格子上非0即1，现在有q个询问，询问当前矩形里面的最大的都是1的正方形的边长。</p>
<p>首先dp来求当前位置作为正方形的右下角，其最大边长是多少。转移方程为<br>$$<br>dp[i][j]&#x3D;min({dp[i-1][j],dp[i][j-1],dp[i-1][j-1]})+1<br>$$<br><del>话说这个dp出来之后没过几天的Google APAC Test也出了这个dp，泪流满面</del></p>
<p>然后构建一个二维的st表，对于每一个询问，二分答案mid，满足x1+mid-1,y1+mid-1,x2,y2这个区间里面有大于等于mid的值，就OK。否则就没有该边长的正方形。</p>
<h3 id="DIV1E-Sonya-Partymaker"><a href="#DIV1E-Sonya-Partymaker" class="headerlink" title="DIV1E Sonya Partymaker"></a>DIV1E Sonya Partymaker</h3><hr>
<p>题意(这个题意给的不好啊。。。不过这个dp倒是又有些神。。。也是见的少，啥都神。。。)给出1到m的环，有n个人坐在相应的位置上，每个人在事先选择好一个方向，顺时针还是逆时针，然后就开始走，每走一步，将所在位置的椅子扔掉，问最少多久之后扔完所有的椅子。</p>
<p>先把这个位置整理成1到n之间空隙最大的位置，然后就像叉姐说的，会发现1和2一定有往左跑的，(假设都向右跑，那么一定不是最优)枚举这个往左跑的，dp[i]表示第i个人能够覆盖的最远位置。</p>
<p>考虑各种情况：</p>
<p>第i个人向右跑，要求dp[i-1]大于等于A[i]-1。dp[i]&#x3D;max(dp[i],A[i]+x)</p>
<p>第i个人向左跑，可能会是第i-1个人向右跑，为了覆盖该段区间，要求dp[i-1]&gt;&#x3D;A[i]-x-1,dp[i]&#x3D;max(dp[i],A[i])</p>
<p>第i个人向左跑，可能会是第i-2向右跑，为了覆盖该段区间，要求dp[i-2]&gt;&#x3D;A[i]-x-1，dp[i]&#x3D;max(dp[i],A[i-1]+x)</p>
<blockquote>
<p>学习到了rotate函数，rotate(begin,middle,end)把该数组[begin,middle) 与区间[middle,end]内的元素做了交换</p>
</blockquote>


<!--<a href="http://2997ms.github.io/2016/09/19/CP/Codeforces/Codeforces-371/#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=&web_id=" language="JavaScript"></script>script>
</div>






</body>
</html>